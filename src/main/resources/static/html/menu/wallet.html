<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ—à–µ–ª–µ–∫ - –û—Ç–µ–ª—å "–†–∞–π—Å–∫–∏–π —É–≥–æ–ª–æ–∫"</title>
    <link rel="stylesheet" href="../../css/index.css">
    <link rel="stylesheet" href="../../css/menu/wallet.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script>
        // Apply theme immediately to prevent flash
        (function() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
        })();
    </script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-logo">
                    <i class="fas fa-hotel"></i>
                    <span>–†–∞–π—Å–∫–∏–π —É–≥–æ–ª–æ–∫</span>
                </div>
                <div class="theme-toggle">
                    <button class="theme-btn" id="themeToggle" onclick="toggleTheme()">
                        <i class="fas fa-sun" id="themeIcon"></i>
                    </button>
                </div>
                <ul class="nav-menu">
                    <li><a href="/" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="/#rooms" class="nav-link">–ù–æ–º–µ—Ä–∞</a></li>
                    <li><a href="/#services" class="nav-link">–£—Å–ª—É–≥–∏</a></li>
                    <li><a href="aboutUs" class="nav-link">–û –Ω–∞—Å</a></li>
                    <li><a href="/#contact" class="nav-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                </ul>
                <div class="nav-auth">
                    <div class="user-profile">
                        <div class="user-info">
                            <div class="user-avatar" id="userAvatar">üë§</div>
                            <div class="user-details">
                                <div class="user-name" id="userName">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</div>
                                <div class="user-wallet">
                                    <i class="fas fa-wallet"></i>
                                    <span id="userWallet">0‚ÇΩ</span>
                                </div>
                            </div>
                        </div>
                        <div class="user-menu">
                            <button class="btn-auth btn-user" onclick="toggleUserMenu()">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="user-dropdown" id="userDropdown">
                                <div class="dropdown-header">
                                    <div class="user-avatar-small" id="userAvatarSmall">üë§</div>
                                    <div>
                                        <div class="user-name-small" id="userNameSmall">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</div>
                                        <div class="user-email-small" id="userEmailSmall">user@example.com</div>
                                    </div>
                                </div>
                                <div class="dropdown-divider"></div>
                                <a href="profile.html" class="dropdown-item">
                                    <i class="fas fa-user"></i>
                                    –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å
                                </a>
                                <a href="booking.html" class="dropdown-item">
                                    <i class="fas fa-calendar"></i>
                                    –ú–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
                                </a>
                                <a href="wallet.html" class="dropdown-item active">
                                    <i class="fas fa-wallet"></i>
                                    –ö–æ—à–µ–ª–µ–∫
                                </a>
                                <a href="setting.html" class="dropdown-item">
                                    <i class="fas fa-cog"></i>
                                    –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                                </a>
                                <div class="dropdown-divider"></div>
                                <a href="#" class="dropdown-item logout-item" onclick="logout()">
                                    <i class="fas fa-sign-out-alt"></i>
                                    –í—ã–π—Ç–∏
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="nav-toggle">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Wallet Content -->
    <main class="wallet-main">
        <div class="container">
            <!-- Wallet Header -->
            <section class="wallet-header">
                <div class="wallet-title">
                    <h1>–ú–æ–π –∫–æ—à–µ–ª–µ–∫</h1>
                    <p>–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏–º–∏ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏</p>
                </div>
                <div class="wallet-actions">
                    <button class="btn btn-primary" onclick="openTopUpModal()">
                        <i class="fas fa-plus"></i>
                        –ü–æ–ø–æ–ª–Ω–∏—Ç—å
                    </button>
                    <button class="btn btn-secondary" onclick="openWithdrawModal()">
                        <i class="fas fa-minus"></i>
                        –í—ã–≤–µ—Å—Ç–∏
                    </button>
                </div>
            </section>

            <!-- Balance Cards -->
            <section class="balance-section">
                <div class="balance-grid">
                    <div class="balance-card primary">
                        <div class="balance-icon">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div class="balance-info">
                            <h3>–û—Å–Ω–æ–≤–Ω–æ–π –±–∞–ª–∞–Ω—Å</h3>
                            <div class="balance-amount" id="mainBalance">15,000‚ÇΩ</div>
                            <p>–î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</p>
                        </div>
                    </div>
                    <div class="balance-card secondary">
                        <div class="balance-icon">
                            <i class="fas fa-gift"></i>
                        </div>
                        <div class="balance-info">
                            <h3>–ë–æ–Ω—É—Å—ã</h3>
                            <div class="balance-amount" id="bonusBalance">2,500‚ÇΩ</div>
                            <p>–ù–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ –±–æ–Ω—É—Å—ã</p>
                        </div>
                    </div>
                    <div class="balance-card accent">
                        <div class="balance-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="balance-info">
                            <h3>–ó–∞ –º–µ—Å—è—Ü</h3>
                            <div class="balance-amount" id="monthlySpent">-8,500‚ÇΩ</div>
                            <p>–ü–æ—Ç—Ä–∞—á–µ–Ω–æ –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Quick Actions -->
            <section class="quick-actions">
                <h2>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
                <div class="actions-grid">
                    <button class="action-card" onclick="openTopUpModal()">
                        <div class="action-icon">
                            <i class="fas fa-plus-circle"></i>
                        </div>
                        <div class="action-text">
                            <h4>–ü–æ–ø–æ–ª–Ω–∏—Ç—å</h4>
                            <p>–î–æ–±–∞–≤–∏—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ —Å—á–µ—Ç</p>
                        </div>
                    </button>
                    <button class="action-card" onclick="openWithdrawModal()">
                        <div class="action-icon">
                            <i class="fas fa-minus-circle"></i>
                        </div>
                        <div class="action-text">
                            <h4>–í—ã–≤–µ—Å—Ç–∏</h4>
                            <p>–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –Ω–∞ –∫–∞—Ä—Ç—É</p>
                        </div>
                    </button>
                    <button class="action-card" onclick="openTransferModal()">
                        <div class="action-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <div class="action-text">
                            <h4>–ü–µ—Ä–µ–≤–µ—Å—Ç–∏</h4>
                            <p>–û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥—Ä—É–≥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é</p>
                        </div>
                    </button>
                    <button class="action-card" onclick="openHistoryModal()">
                        <div class="action-icon">
                            <i class="fas fa-history"></i>
                        </div>
                        <div class="action-text">
                            <h4>–ò—Å—Ç–æ—Ä–∏—è</h4>
                            <p>–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</p>
                        </div>
                    </button>
                </div>
            </section>

            <!-- Recent Transactions -->
            <section class="transactions-section">
                <div class="section-header">
                    <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</h2>
                    <div class="filter-tabs">
                        <button class="filter-tab active" data-filter="all" onclick="filterTransactions('all')">–í—Å–µ</button>
                        <button class="filter-tab" data-filter="income" onclick="filterTransactions('income')">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏—è</button>
                        <button class="filter-tab" data-filter="expense" onclick="filterTransactions('expense')">–†–∞—Å—Ö–æ–¥—ã</button>
                        <button class="filter-tab" data-filter="bonus" onclick="filterTransactions('bonus')">–ë–æ–Ω—É—Å—ã</button>
                    </div>
                </div>
                <div class="transactions-list" id="transactionsList">
                    <!-- Transactions will be loaded here -->
                </div>
                <div class="load-more">
                    <button class="btn btn-outline" onclick="loadMoreTransactions()">
                        <i class="fas fa-plus"></i>
                        –ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â–µ
                    </button>
                </div>
            </section>

            <!-- Payment Methods -->
            <section class="payment-methods">
                <div class="section-header">
                    <h2>–°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã</h2>
                    <button class="btn btn-outline" onclick="addPaymentMethod()">
                        <i class="fas fa-plus"></i>
                        –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É
                    </button>
                </div>
                <div class="payment-cards" id="paymentCards">
                    <!-- Payment methods will be loaded here -->
                </div>
            </section>
        </div>
    </main>

    <!-- Top Up Modal -->
    <div class="modal" id="topUpModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—á–µ—Ç–∞</h2>
                <button class="modal-close" onclick="closeTopUpModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form class="topup-form" id="topUpForm">
                    <div class="amount-selection">
                        <h3>–í—ã–±–µ—Ä–∏—Ç–µ —Å—É–º–º—É</h3>
                        <div class="amount-buttons">
                            <button type="button" class="amount-btn" data-amount="1000">1,000‚ÇΩ</button>
                            <button type="button" class="amount-btn" data-amount="2500">2,500‚ÇΩ</button>
                            <button type="button" class="amount-btn" data-amount="5000">5,000‚ÇΩ</button>
                            <button type="button" class="amount-btn" data-amount="10000">10,000‚ÇΩ</button>
                        </div>
                        <div class="custom-amount">
                            <label for="customAmount">–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É</label>
                            <input type="number" id="customAmount" name="customAmount" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É" min="100" max="100000">
                        </div>
                    </div>
                    <div class="payment-method-selection">
                        <h3>–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</h3>
                        <div class="payment-options" id="paymentOptions">
                            <!-- Payment options will be loaded here -->
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeTopUpModal()">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn btn-primary">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Withdraw Modal -->
    <div class="modal" id="withdrawModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</h2>
                <button class="modal-close" onclick="closeWithdrawModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form class="withdraw-form" id="withdrawForm">
                    <div class="form-group">
                        <label for="withdrawAmount">–°—É–º–º–∞ –∫ –≤—ã–≤–æ–¥—É</label>
                        <input type="number" id="withdrawAmount" name="withdrawAmount" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É" min="100" required>
                        <div class="balance-info">
                            <span>–î–æ—Å—Ç—É–ø–Ω–æ: <strong id="availableBalance">15,000‚ÇΩ</strong></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="withdrawCard">–ö–∞—Ä—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞</label>
                        <select id="withdrawCard" name="withdrawCard" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ä—Ç—É</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="withdrawComment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                        <textarea id="withdrawComment" name="withdrawComment" rows="3" placeholder="–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤"></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeWithdrawModal()">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn btn-primary">–í—ã–≤–µ—Å—Ç–∏</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Transfer Modal -->
    <div class="modal" id="transferModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ü–µ—Ä–µ–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</h2>
                <button class="modal-close" onclick="closeTransferModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form class="transfer-form" id="transferForm">
                    <div class="form-group">
                        <label for="transferEmail">Email –ø–æ–ª—É—á–∞—Ç–µ–ª—è</label>
                        <input type="email" id="transferEmail" name="transferEmail" placeholder="example@email.com" required>
                    </div>
                    <div class="form-group">
                        <label for="transferAmount">–°—É–º–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞</label>
                        <input type="number" id="transferAmount" name="transferAmount" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É" min="1" required>
                    </div>
                    <div class="form-group">
                        <label for="transferComment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
                        <textarea id="transferComment" name="transferComment" rows="3" placeholder="–£–∫–∞–∂–∏—Ç–µ —Ü–µ–ª—å –ø–µ—Ä–µ–≤–æ–¥–∞"></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeTransferModal()">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn btn-primary">–ü–µ—Ä–µ–≤–µ—Å—Ç–∏</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- History Modal -->
    <div class="modal" id="historyModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h2>–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</h2>
                <button class="modal-close" onclick="closeHistoryModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="history-filters">
                    <div class="filter-group">
                        <label for="dateFrom">–û—Ç</label>
                        <input type="date" id="dateFrom" name="dateFrom">
                    </div>
                    <div class="filter-group">
                        <label for="dateTo">–î–æ</label>
                        <input type="date" id="dateTo" name="dateTo">
                    </div>
                    <div class="filter-group">
                        <label for="typeFilter">–¢–∏–ø</label>
                        <select id="typeFilter" name="typeFilter">
                            <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
                            <option value="income">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏—è</option>
                            <option value="expense">–†–∞—Å—Ö–æ–¥—ã</option>
                            <option value="bonus">–ë–æ–Ω—É—Å—ã</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" onclick="applyHistoryFilters()">
                        <i class="fas fa-search"></i>
                        –ü—Ä–∏–º–µ–Ω–∏—Ç—å
                    </button>
                </div>
                <div class="history-list" id="historyList">
                    <!-- History will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <script src="../../js/menu/wallet.js"></script>
</body>
</html>

