<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="wallet.title">–ö–æ—à–µ–ª–µ–∫ - –û—Ç–µ–ª—å "–†–∞–π—Å–∫–∏–π —É–≥–æ–ª–æ–∫"</title>
    <link rel="stylesheet" href="../../css/index.css">
    <link rel="stylesheet" href="../../css/menu/wallet.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="../../js/i18n.js"></script>
    <script>
        (function() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
        })();
    </script>
</head>
<body>
<header class="header">
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-hotel"></i>
                <span data-i18n="common.hotelName">–†–∞–π—Å–∫–∏–π —É–≥–æ–ª–æ–∫</span>
            </div>
            <div class="theme-toggle">
                <button class="theme-btn" id="themeToggle" onclick="toggleTheme()">
                    <i class="fas fa-sun" id="themeIcon"></i>
                </button>
            </div>
            <ul class="nav-menu">
                <li><a href="/" class="nav-link" data-i18n="common.home">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="/#rooms" class="nav-link" data-i18n="common.rooms">–ù–æ–º–µ—Ä–∞</a></li>
                <li><a href="/#services" class="nav-link" data-i18n="common.services">–£—Å–ª—É–≥–∏</a></li>
                <li><a href="aboutUs" class="nav-link" data-i18n="common.about">–û –Ω–∞—Å</a></li>
                <li><a href="/#contact" class="nav-link" data-i18n="common.contact">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
            </ul>
            <div class="nav-auth">
                <div class="user-profile">
                    <div class="user-info">
                        <div class="user-avatar" id="userAvatar">üë§</div>
                        <div class="user-details">
                            <div class="user-name" id="userName"></div>
                            <div class="user-wallet">
                                <i class="fas fa-wallet"></i>
                                <span id="userWallet">0BYN</span>
                            </div>
                        </div>
                    </div>
                    <div class="user-menu">
                        <button class="btn-auth btn-user" onclick="toggleUserMenu()">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="user-dropdown" id="userDropdown">
                            <div class="dropdown-header">
                                <div class="user-avatar-small" id="userAvatarSmall">üë§</div>
                                <div>
                                    <div class="user-name-small" id="userNameSmall"></div>
                                    <div class="user-email-small" id="userEmailSmall">user@example.com</div>
                                </div>
                            </div>
                            <div class="dropdown-divider"></div>
                            <a href="profile.html" class="dropdown-item">
                                <i class="fas fa-user"></i>
                                <span data-i18n="common.profile">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</span>
                            </a>
                            <a href="booking.html" class="dropdown-item">
                                <i class="fas fa-calendar"></i>
                                <span data-i18n="common.bookings">–ú–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</span>
                            </a>
                            <a href="wallet.html" class="dropdown-item active">
                                <i class="fas fa-wallet"></i>
                                <span data-i18n="common.wallet">–ö–æ—à–µ–ª–µ–∫</span>
                            </a>
                            <a href="setting.html" class="dropdown-item">
                                <i class="fas fa-cog"></i>
                                <span data-i18n="common.settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item logout-item" onclick="logout()">
                                <i class="fas fa-sign-out-alt"></i>
                                <span data-i18n="common.logout">–í—ã–π—Ç–∏</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="nav-toggle">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>
</header>

<!-- Wallet Content -->
<main class="wallet-main">
    <div class="container">
        <!-- Wallet Header -->
        <section class="wallet-header">
            <div class="wallet-title">
                <h1 data-i18n="wallet.title">–ú–æ–π –∫–æ—à–µ–ª–µ–∫</h1>
                <p data-i18n="wallet.subtitle">–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏–º–∏ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏</p>
            </div>
            <div class="wallet-actions">
                <button class="btn btn-primary" onclick="openTopUpModal()">
                    <i class="fas fa-plus"></i>
                    <span data-i18n="wallet.topUp">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</span>
                </button>
                <button class="btn btn-secondary" onclick="openWithdrawModal()">
                    <i class="fas fa-minus"></i>
                    <span data-i18n="wallet.withdraw">–í—ã–≤–µ—Å—Ç–∏</span>
                </button>
            </div>
        </section>

        <!-- Balance Cards -->
        <section class="balance-section">
            <div class="balance-grid">
                <div class="balance-card primary">
                    <div class="balance-icon">
                        <i class="fas fa-wallet"></i>
                    </div>
                    <div class="balance-info">
                        <h3 data-i18n="wallet.mainBalance">–û—Å–Ω–æ–≤–Ω–æ–π –±–∞–ª–∞–Ω—Å</h3>
                        <div class="balance-amount" id="mainBalance">15,000BYN</div>
                        <p data-i18n="wallet.available">–î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</p>
                    </div>
                </div>
                <div class="balance-card accent">
                    <div class="balance-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="balance-info">
                        <h3 data-i18n="wallet.thisMonth">–ó–∞ –º–µ—Å—è—Ü</h3>
                        <div class="balance-amount" id="monthlySpent">-8,500BYN</div>
                        <p data-i18n="wallet.spentThisMonth">–ü–æ—Ç—Ä–∞—á–µ–Ω–æ –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quick Actions -->
        <section class="quick-actions">
            <h2 data-i18n="wallet.quickActions">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
            <div class="actions-grid">
                <button class="action-card" onclick="openTopUpModal()">
                    <div class="action-icon">
                        <i class="fas fa-plus-circle"></i>
                    </div>
                    <div class="action-text">
                        <h4 data-i18n="wallet.topUp">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</h4>
                        <p data-i18n="wallet.addFunds">–î–æ–±–∞–≤–∏—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ —Å—á–µ—Ç</p>
                    </div>
                </button>
                <button class="action-card" onclick="openWithdrawModal()">
                    <div class="action-icon">
                        <i class="fas fa-minus-circle"></i>
                    </div>
                    <div class="action-text">
                        <h4 data-i18n="wallet.withdraw">–í—ã–≤–µ—Å—Ç–∏</h4>
                        <p data-i18n="wallet.transferToCard">–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –Ω–∞ –∫–∞—Ä—Ç—É</p>
                    </div>
                </button>
                <button class="action-card" onclick="openHistoryModal()">
                    <div class="action-icon">
                        <i class="fas fa-history"></i>
                    </div>
                    <div class="action-text">
                        <h4 data-i18n="wallet.history">–ò—Å—Ç–æ—Ä–∏—è</h4>
                        <p data-i18n="wallet.viewAll">–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</p>
                    </div>
                </button>
            </div>
        </section>

        <!-- Transactions Section -->
        <section class="transactions-section">
            <div class="section-header">
                <h2 data-i18n="wallet.recentTransactions">–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</h2>
                <div class="filter-tabs">
                    <button class="filter-tab active" data-filter="all" onclick="filterTransactions('all')" data-i18n="wallet.all">–í—Å–µ</button>
                    <button class="filter-tab" data-filter="income" onclick="filterTransactions('income')" data-i18n="wallet.income">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏—è</button>
                    <button class="filter-tab" data-filter="expense" onclick="filterTransactions('expense')" data-i18n="wallet.expense">–†–∞—Å—Ö–æ–¥—ã</button>
                </div>
            </div>
            <div class="transactions-list" id="transactionsList">
            </div>
        </section>
    </div>
</main>

<!-- Top Up Modal -->
<div class="modal" id="topUpModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 data-i18n="wallet.topUpTitle">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—á–µ—Ç–∞</h2>
            <button class="modal-close" onclick="closeTopUpModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <form class="topup-form" id="topUpForm">
                <div class="amount-selection">
                    <h3 data-i18n="wallet.selectAmount">–í—ã–±–µ—Ä–∏—Ç–µ —Å—É–º–º—É</h3>
                    <div class="amount-buttons">
                        <button type="button" class="amount-btn" data-amount="1000">1,000BYN</button>
                        <button type="button" class="amount-btn" data-amount="2500">2,500BYN</button>
                        <button type="button" class="amount-btn" data-amount="5000">5,000BYN</button>
                        <button type="button" class="amount-btn" data-amount="10000">10,000BYN</button>
                    </div>
                    <div class="custom-amount">
                        <label for="customAmount" data-i18n="wallet.orEnterAmount">–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É</label>
                        <input type="number" id="customAmount" name="customAmount" data-i18n-placeholder="wallet.enterAmount" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É" min="100" max="100000">
                    </div>
                </div>
                <div class="payment-method-selection">
                    <h3 data-i18n="wallet.paymentMethod">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</h3>
                    <div class="payment-options" id="paymentOptions">
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeTopUpModal()" data-i18n="common.cancel">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn btn-primary" data-i18n="wallet.topUpButton">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Withdraw Modal -->
<div class="modal" id="withdrawModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 data-i18n="wallet.withdrawTitle">–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</h2>
            <button class="modal-close" onclick="closeWithdrawModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <form class="withdraw-form" id="withdrawForm">
                <div class="form-group">
                    <label for="withdrawAmount" data-i18n="wallet.withdrawAmount">–°—É–º–º–∞ –∫ –≤—ã–≤–æ–¥—É</label>
                    <input type="number" id="withdrawAmount" name="withdrawAmount" data-i18n-placeholder="wallet.enterAmount" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É" min="10" required>
                    <div class="balance-info">
                        <span><span data-i18n="wallet.availableBalance">–î–æ—Å—Ç—É–ø–Ω–æ</span>: <strong id="availableBalance">15,000BYN</strong></span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="cardNumber">
                        <i class="fas fa-credit-card"></i>
                        <span data-i18n="wallet.cardNumber">–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã</span>
                    </label>
                    <input
                            type="text"
                            id="cardNumber"
                            name="cardNumber"
                            class="form-control card-input"
                            data-i18n-placeholder="wallet.cardPlaceholder"
                            placeholder="0000 0000 0000 0000"
                            maxlength="19"
                            autocomplete="off"
                            required
                    >
                    <div id="cardError" class="error-message"></div>
                    <div class="card-hint">
                        <i class="fas fa-info-circle"></i>
                        <span data-i18n="wallet.cardHint">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –∫–∞—Ä—Ç—ã Visa, Mastercard, –ú–ò–†</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="withdrawComment" data-i18n="wallet.withdrawComment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                    <textarea id="withdrawComment" name="withdrawComment" rows="3" data-i18n-placeholder="wallet.withdrawCommentPlaceholder" placeholder="–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤"></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeWithdrawModal()" data-i18n="common.cancel">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn btn-primary" data-i18n="wallet.withdrawButton">–í—ã–≤–µ—Å—Ç–∏</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- History Modal -->
<div class="modal" id="historyModal">
    <div class="modal-content large">
        <div class="modal-header">
            <h2 data-i18n="wallet.historyTitle">–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</h2>
            <button class="modal-close" onclick="closeHistoryModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <div class="history-filters">
                <div class="filter-group">
                    <label for="dateFrom" data-i18n="wallet.from">–û—Ç</label>
                    <input type="date" id="dateFrom" name="dateFrom">
                </div>
                <div class="filter-group">
                    <label for="dateTo" data-i18n="wallet.to">–î–æ</label>
                    <input type="date" id="dateTo" name="dateTo">
                </div>
                <div class="filter-group">
                    <label for="typeFilter" data-i18n="wallet.type">–¢–∏–ø</label>
                    <select id="typeFilter" name="typeFilter">
                        <option value="" data-i18n="wallet.allTypes">–í—Å–µ —Ç–∏–ø—ã</option>
                        <option value="income" data-i18n="wallet.income">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏—è</option>
                        <option value="expense" data-i18n="wallet.expense">–†–∞—Å—Ö–æ–¥—ã</option>
                    </select>
                </div>
                <button class="btn btn-primary" onclick="applyHistoryFilters()">
                    <i class="fas fa-search"></i>
                    <span data-i18n="wallet.apply">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</span>
                </button>
            </div>
            <div class="history-list" id="historyList">
            </div>
        </div>
    </div>
</div>

<script src="../../js/menu/wallet.js"></script>
</body>
</html>

