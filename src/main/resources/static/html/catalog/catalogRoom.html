<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Каталог номеров</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/catalog/catalogRoom.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <header class="header">
        <nav class="navbar">
            <div class="nav-container">
                <a href="/home" class="nav-logo"><i class="fas fa-hotel"></i> HotelX</a>
                <div class="nav-toggle" onclick="document.querySelector('.nav-menu').classList.toggle('active')">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
                <ul class="nav-menu">
                    <li><a class="nav-link" href="/home">Главная</a></li>
                    <li><a class="nav-link active" href="/catalog/catalogRoom.html">Номера</a></li>
                    <li><a class="nav-link" href="/html/aboutUs.html">О нас</a></li>
                </ul>
                <div class="theme-toggle">
                    <button id="themeToggle" class="theme-btn" aria-label="Переключить тему">
                        <i id="themeIcon" class="fas fa-sun"></i>
                    </button>
                </div>
            </div>
        </nav>
    </header>
    <main class="catalog">
        <section class="catalog-hero">
            <div class="container">
                <h1 class="catalog-title">Подберите идеальный номер</h1>
                <p class="catalog-subtitle">Фильтруйте, сортируйте и находите лучшее предложение</p>
                <form id="filtersForm" class="filters">
                    <div class="filters-row">
                        <div class="form-group">
                            <label for="searchQuery">Поиск</label>
                            <input id="searchQuery" type="text" placeholder="Название, номер, тип...">
                        </div>
                        <div class="form-group">
                            <label for="typeFilter">Тип номера</label>
                            <select id="typeFilter">
                                <option value="">Все</option>
                                <option value="STANDARD">Стандарт</option>
                                <option value="DELUXE">Делюкс</option>
                                <option value="SUITE">Люкс</option>
                                <option value="APARTMENT">Апартаменты</option>
                                <option value="PENTHOUSE">Пентхаус</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Цена за ночь (₽)</label>
                            <div class="price-range">
                                <input id="priceMin" type="number" min="0" placeholder="От">
                                <span class="delimiter">—</span>
                                <input id="priceMax" type="number" min="0" placeholder="До">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="capacityFilter">Вместимость</label>
                            <select id="capacityFilter">
                                <option value="">Любая</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5+</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="sortBy">Сортировка</label>
                            <select id="sortBy">
                                <option value="POPULAR">Популярные</option>
                                <option value="PRICE_ASC">Цена: по возрастанию</option>
                                <option value="PRICE_DESC">Цена: по убыванию</option>
                                <option value="AREA_DESC">Площадь</option>
                                <option value="RATING_DESC">Рейтинг</option>
                            </select>
                        </div>
                    </div>
                    <div class="filters-row amenities">
                        <label class="amenity"><input type="checkbox" id="fWifi"> <span><i class="fas fa-wifi"></i> Wi‑Fi</span></label>
                        <label class="amenity"><input type="checkbox" id="fTv"> <span><i class="fas fa-tv"></i> ТВ</span></label>
                        <label class="amenity"><input type="checkbox" id="fMinibar"> <span><i class="fas fa-wine-glass"></i> Минибар</span></label>
                        <label class="amenity"><input type="checkbox" id="fBalcony"> <span><i class="fas fa-door-open"></i> Балкон</span></label>
                        <label class="amenity"><input type="checkbox" id="fSea"> <span><i class="fas fa-water"></i> Вид на море</span></label>
                        <div class="filters-actions">
                            <button type="button" id="btnReset" class="btn btn-secondary">Сбросить</button>
                            <button type="submit" class="btn btn-primary"><i class="fas fa-filter"></i> Применить</button>
                        </div>
                    </div>
                </form>
            </div>
        </section>
        <!-- Модальное окно бронирования -->
        <div id="bookingModal" class="modal">
            <div class="modal-content booking-modal">
                <div class="modal-header">
                    <h2>Бронирование номера</h2>
                    <button class="modal-close" onclick="closeBookingModal()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <div class="modal-body">
                    <div class="booking-room-info">
                        <h3 id="bookingRoomName">Номер</h3>
                        <p id="bookingRoomPrice" class="room-price">0 ₽/ночь</p>
                    </div>

                    <form id="bookingForm" class="booking-form" onsubmit="event.preventDefault(); submitBooking();">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="checkInDate">
                                    <i class="fas fa-calendar-check"></i> Дата заезда
                                </label>
                                <input
                                    type="date"
                                    id="checkInDate"
                                    name="checkInDate"
                                    required
                                >
                            </div>

                            <div class="form-group">
                                <label for="checkOutDate">
                                    <i class="fas fa-calendar-times"></i> Дата выезда
                                </label>
                                <input
                                    type="date"
                                    id="checkOutDate"
                                    name="checkOutDate"
                                    required
                                >
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="guestsCount">
                                    <i class="fas fa-users"></i> Количество гостей
                                </label>
                                <input
                                    type="number"
                                    id="guestsCount"
                                    name="guestsCount"
                                    min="1"
                                    max="10"
                                    value="1"
                                    required
                                >
                            </div>

                            <div class="form-group">
                                <label for="currency">
                                    <i class="fas fa-money-bill-wave"></i> Валюта
                                </label>
                                <select id="currency" name="currency" required>
                                    <option value="BYN">Белорусский рубль (BYN)</option>
                                    <option value="USD">Доллар США ($)</option>
                                </select>
                            </div>
                        </div>

                        <!-- НОВОЕ ПОЛЕ: Особые пожелания -->
                        <div class="form-group">
                            <label for="specialRequests">
                                <i class="fas fa-clipboard-list"></i> Особые пожелания (необязательно)
                            </label>
                            <textarea
                                id="specialRequests"
                                name="specialRequests"
                                rows="3"
                                placeholder="Например: ранний заезд, дополнительная кровать, гипоаллергенные подушки..."
                                maxlength="500"
                            ></textarea>
                            <small class="form-hint">Максимум 500 символов</small>
                        </div>

                        <div class="booking-summary">
                            <div class="summary-row">
                                <span>Количество ночей:</span>
                                <strong id="totalNights">0</strong>
                            </div>
                            <div class="summary-row total">
                                <span>Итоговая стоимость:</span>
                                <strong id="totalPrice">0 ₽</strong>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" onclick="closeBookingModal()">
                                Отмена
                            </button>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-check"></i> Забронировать
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <section class="catalog-results">
            <div class="container">
                <div id="roomsCount" class="results-header">Найдено: 0</div>
                <div id="roomsGrid" class="rooms-grid"></div>
                <div id="emptyState" class="empty-state" style="display:none">
                    <div class="empty-card">
                        <i class="fas fa-search"></i>
                        <h3>Ничего не найдено</h3>
                        <p>Попробуйте изменить параметры фильтров</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div>
                    <div class="footer-logo"><i class="fas fa-hotel"></i> HotelX</div>
                    <p>Современные номера, прозрачные цены, удобное бронирование.</p>
                </div>
                <div class="footer-section">
                    <h4>Навигация</h4>
                    <ul>
                        <li><a href="/home.html">Главная</a></li>
                        <li><a href="/catalog/catalogRoom.html">Номера</a></li>
                        <li><a href="/html/aboutUs.html">О нас</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Контакты</h4>
                    <p><i class="fas fa-phone"></i> +7 (900) 000‑00‑00</p>
                    <p><i class="fas fa-envelope"></i> hello@hotelx.ru</p>
                </div>
            </div>
            <div class="footer-bottom">© 2025 HotelX</div>
        </div>
    </footer>

    <div id="roomModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h2 id="modalTitle">Информация о номере</h2>
                <button class="modal-close" onclick="document.getElementById('roomModal').classList.remove('show')"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div class="modal-grid">
                    <div class="gallery">
                        <div class="gallery-main">
                            <img id="galleryMain" alt="Фото номера">
                            <div id="galleryPrice" class="gallery-price"></div>
                        </div>
                        <div id="galleryThumbs" class="gallery-thumbs"></div>
                    </div>
                    <div class="details">
                        <h3 id="roomName"></h3>
                        <div class="details-meta">
                            <span><i class="fas fa-vector-square"></i> <span id="roomArea"></span> м²</span>
                            <span><i class="fas fa-user-friends"></i> до <span id="roomCapacity"></span> гостей</span>
                        </div>
                        <p id="roomDescription" class="room-description"></p>
                        <ul id="roomAmenities" class="amenities-list"></ul>
                        <div class="details-actions">
                            <button id="btnBook" class="btn btn-primary"><i class="fas fa-calendar-check"></i> Забронировать</button>
                            <button class="btn btn-secondary" onclick="document.getElementById('roomModal').classList.remove('show')">Закрыть</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="loadingOverlay" style="display:none;position:fixed;inset:0;align-items:center;justify-content:center;background:rgba(0,0,0,0.4);z-index:20000">
        <div class="loading"></div>
    </div>

    <script src="/js/catalog/catalogRoom.js"></script>
</body>
</html>